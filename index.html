
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://www.example.com/">
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.10">
    
    
      
        <title>Luau Style Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.1fe995fd.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#home" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Luau Style Guide" class="md-header__button md-logo" aria-label="Luau Style Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Luau Style Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Luau Style Guide" class="md-nav__button md-logo" aria-label="Luau Style Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Luau Style Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Home.md" class="md-nav__link">
        Home
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#starting-principles" class="md-nav__link">
    Starting principles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-structure" class="md-nav__link">
    File Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requiring-an-module" class="md-nav__link">
    Requiring an module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naming" class="md-nav__link">
    Naming
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prototype-classes" class="md-nav__link">
    Prototype Classes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-whitespace" class="md-nav__link">
    General Whitespace
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guarding-against-silent-errors" class="md-nav__link">
    Guarding against silent errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocks" class="md-nav__link">
    Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-literals" class="md-nav__link">
    String literals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events-and-yielding" class="md-nav__link">
    Events and yielding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#garbage-collection" class="md-nav__link">
    Garbage collection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    Comments
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="home">Home</h1>
<p>This style guide is written by <a href="https://www.roblox.com/users/700264840/profile">SilentsReplacement</a> and only intended for code that belongs to a <strong>game of <a href="https://www.roblox.com/groups/8876330/Perdux-Studios">PerduxStudios</a></strong>. It is
mostly similar to <a href="https://roblox.github.io/lua-style-guide/">Roblox Luau's Style Guide</a> except
with cmdnoticeable changes and style changes and will continue to get changed eventually as time passes on.</p>
<h2 id="starting-principles">Starting principles</h2>
<ul>
<li>
<p>Consistency is very important, code inconsistencies makes it hard
  for other developers to review your code and in general makes your code harder to maintain and less readable.</p>
</li>
<li>
<p>Always declare variables and functions locally, unless you want a variable to fully accessed from any scope. Global variables that reference a table, function, userdata, thread, string will
not be garbage collected unless the global variable is set to <code>nil</code> explicitly or when the script ends.</p>
</li>
<li>
<p>Never <strong>micro optimize</strong> code. Code should only be optimized if the performance gains are going to be significant and only when needed.</p>
</li>
<li>
<p>Avoid magic values and dangerous code. Use constants over magic value that you use more than once. Constants help maintain code and will
also help you not to constantly change your code if you change any crucial value.  Magic values
are nice, unless the code doesn't work as intended and will be extremely hard to debug because most of the times you won't know what went wrong, or you would be required to change your code
because you changed a magic value to something else.</p>
</li>
<li>
<p>Variable names should be verbose, even if they get a little to long. Never declare variables like <code>x</code>, <code>plr</code>, etc.  Who would want to read variables like those?!</p>
</li>
<li>
<p>Don't use variables for values you only use once, don't clutter code with unnecessary variables. Again, they make code slightly more harder to maintain and harder for other developers to review your code. Exceptions include if you use a variable to reference a service,
module, or an object created from a prototype class that acts like an service.</p>
</li>
<li>
<p>Keep a header for every script you code in, this helps other developers know who is the maintainer of what code and in general improves collaboration. Version control
is also a option but isn't that dynamic. The format for the header 
should be as follows:</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- AUTHOR_NAME</span>
<span class="c1">-- SCRIPT_NAME</span>
<span class="c1">-- MONTH DATE, YEAR</span>
</code></pre></div>
</li>
<li>
<p>Always write clean and efficient code. Code that has certain edge cases unhandled / silent bugs
is bad code.</p>
</li>
</ul>
<h2 id="file-structure">File Structure</h2>
<p>Files should consist of these things (if present) in order:</p>
<ul>
<li>
<p>A header.</p>
</li>
<li>
<p>Services used by the file, via <a href="https://developer.roblox.com/en-us/api-reference/function/ServiceProvider/GetService">GetService</a>.</p>
</li>
<li>
<p><a href="https://developer.roblox.com/en-us/api-reference/class/ModuleScript">ModuleScript</a>s used by the file. Note that objects created by an prototype class that refer to services or a package
are also <strong>considered</strong> an ModuleScript.</p>
</li>
<li>
<p>Any constants used by the file.</p>
</li>
<li>
<p>Variables (If they hold a reference to an object created by an prototype class, they should be first before any other variable, tables must be at the last, booleans/numbers/strings can be in any order).</p>
</li>
<li>
<p>A return statement (if the file is a <a href="https://developer.roblox.com/en-us/api-reference/class/ModuleScript">ModuleScript</a>).</p>
</li>
</ul>
<h2 id="requiring-an-module">Requiring an module</h2>
<ul>
<li>Use relative paths when importing modules from the same package.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">Roact</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">script</span><span class="p">.</span><span class="n">Parent</span><span class="p">.</span><span class="n">Roact</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>Use absolute paths when importing modules from a different package.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">ReplicatedStorage</span> <span class="o">=</span> <span class="n">game</span><span class="p">:</span><span class="n">GetService</span><span class="p">(</span><span class="s2">&quot;ReplicatedStorage&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">Fin</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">ReplicatedStorage</span><span class="p">.</span><span class="n">Shared</span><span class="p">.</span><span class="n">Module</span><span class="p">)</span>
</code></pre></div>
<h2 id="naming">Naming</h2>
<ul>
<li>
<p>Spell out words fully! Abbreviations generally make code easier to write, but harder to read.</p>
</li>
<li>
<p>Use <a href="https://techterms.com/definition/pascalcase#:~:text=PascalCase%20is%20a%20naming%20convention,in%20PascalCase%20is%20always%20capitalized.">PascalCase</a> for classes, enum/service-like objects and public
table members.</p>
</li>
<li>
<p>Use <a href="https://en.wikipedia.org/wiki/Camel_case#:~:text=Camel%20case%20sometimes%20stylized%20as,word%20starting%20with%20either%20case.">camelCase</a> for local variables. Also for private members and private functions, except prefixed with an underscore.</p>
</li>
<li>
<p>Use <a href="https://en.wikipedia.org/wiki/Snake_case">LOUD_SNAKE_CASE</a> names for constants.</p>
</li>
<li>
<p>Modules should be named whatever they export and return. If you have a module that returns a custom yielding function which uses <a href="https://developer.roblox.com/en-us/api-reference/event/RunService/Heartbeat">RunService.Heartbeat</a>, the module
 should be named <code>Heartbeat</code>. </p>
</li>
</ul>
<h2 id="prototype-classes">Prototype Classes</h2>
<p>First of, Luau has no concept of classes, hence a class in Lua is actually a prototype class or
a object where other objects inherit from it, also known as <a href="https://javascript.info/prototype-inheritance">Prototype Inheritance</a>. </p>
<p>First up, we create a empty table which will be the prototype class:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">MyClass</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
<p>Next, we assign the <code>__index</code> member on the class back to itself. This is a handy trick that lets us use the class's table as the metatable for instances as well.</p>
<p>When we construct an instance, we'll tell Lua to use our __index value to find values that are missing in our instances:</p>
<div class="highlight"><pre><span></span><code><span class="n">MyClass</span><span class="p">.</span><span class="n">__index</span> <span class="o">=</span> <span class="n">MyClass</span>
</code></pre></div>
<p>In most cases, we create a default constructor for our class. By convention, we usually call it new.</p>
<p>Methods that don't operate on instances of our class are usually defined using a dot (.) 
(static methods) instead of a colon (:) (instance methods):</p>
<div class="highlight"><pre><span></span><code><span class="kr">function</span> <span class="nc">MyClass</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
    <span class="kr">return</span> <span class="nb">setmetatable</span><span class="p">({</span>
        <span class="n">phrase</span> <span class="o">=</span> <span class="s2">&quot;bark&quot;</span>
    <span class="p">},</span> <span class="n">MyClass</span><span class="p">)</span>
<span class="kr">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">-- This is functionally identical to `function MyClass.bark(self)`</span>
<span class="kr">function</span> <span class="nc">MyClass</span><span class="p">:</span><span class="nf">bark</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;My phrase is&quot;</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">phrase</span><span class="p">)</span>
<span class="kr">end</span>
</code></pre></div>
<p>We can construct instances (objects) and start tinkering with it:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">.</span><span class="n">new</span><span class="p">()</span>

<span class="c1">-- Properties on the instance are visible, since it&#39;s just a table:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">instance</span><span class="p">.</span><span class="n">phrase</span><span class="p">)</span> <span class="c1">-- &quot;bark&quot;</span>

<span class="c1">-- Methods are pulled from MyClass because of our metatable:</span>
<span class="n">instance</span><span class="p">:</span><span class="n">bark</span><span class="p">()</span> <span class="c1">-- &quot;My phrase is bark&quot;</span>

<span class="c1">-- We can also invoke methods with a dot by explicitly passing `instance`:</span>
<span class="n">MyClass</span><span class="p">.</span><span class="n">bark</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
<span class="n">instance</span><span class="p">.</span><span class="n">bark</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
</code></pre></div>
<p>Further additions you can make to your class as needed:</p>
<p>Introduce a <code>__tostring</code> metamethod to make debugging easier.</p>
<p>Add a method to check type given an instance, like:</p>
<div class="highlight"><pre><span></span><code><span class="kr">function</span> <span class="nc">MyClass</span><span class="p">.</span><span class="nf">IsMyClass</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
    <span class="kr">return</span> <span class="nb">getmetatable</span><span class="p">(</span><span class="n">instance</span><span class="p">).</span><span class="n">__index</span> <span class="o">==</span> <span class="n">MyClass</span>
<span class="kr">end</span>
</code></pre></div>
<h2 id="general-whitespace">General Whitespace</h2>
<ul>
<li>
<p>It's always best to indent with tabs.</p>
</li>
<li>
<p>Keep lines under 140 columns wide, assuming four column wide tabs.</p>
</li>
<li>
<p>Wrap comments to 100 columns wide, assuming four column wide tabs.</p>
</li>
<li>
<p>This is different than normal code; the hope is that short lines help improve readability of comment prose, but is too restrictive for code.</p>
</li>
<li>
<p>Don't leave whitespace at the end of lines.</p>
</li>
<li>
<p>Add a newline at the end of the file.</p>
</li>
<li>
<p>No vertical alignment, they make code more difficult to edit and it's hard to keep exact
  precision and is a tedious process to do so anyways.</p>
<p><span style="color:green"><strong>Good</strong>:</span>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">bo</span> <span class="o">=</span> <span class="mi">132</span>
<span class="kd">local</span> <span class="n">nanako</span> <span class="o">=</span> <span class="mi">17</span>
</code></pre></div>
<span style="color:red"><strong>Bad</strong>:</span>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">bo</span> <span class="o">=</span> <span class="mi">132</span>
<span class="kd">local</span> <span class="n">nanako</span>       <span class="o">=</span>  <span class="mi">17</span>
</code></pre></div></p>
</li>
<li>
<p>Use one statement per line. Put function bodies on new lines:</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<p><div class="highlight"><pre><span></span><code><span class="nb">table.sort</span><span class="p">({},</span> <span class="kr">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="kr">return</span> <span class="nb">math.abs</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span>
<span class="kr">end</span><span class="p">)</span>
</code></pre></div>
<span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="nb">table.sort</span><span class="p">({},</span> <span class="kr">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="kd">local</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="kr">return</span> <span class="nb">math.abs</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="kr">end</span>
</code></pre></div>
</li>
<li>
<p>This is also true for if blocks, even if their body is just a return statement.
    Consistency is important!</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kr">if</span> <span class="n">valueIsInvalid</span> <span class="kr">then</span>
    <span class="kr">return</span>
<span class="kr">end</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kr">if</span> <span class="n">valueIsInvalid</span> <span class="kr">then</span> <span class="kr">return</span> <span class="kr">end</span>   
</code></pre></div>
</li>
<li>
<p>Put function arguments (if they're too long) in new lines and expand the whitespace for the call:</p>
<p><span style="color:green"><strong>Good</strong>:</span>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="kr">function</span> <span class="nf">foo</span><span class="p">(...)</span>
    <span class="kr">return</span> <span class="p">...</span>
<span class="kr">end</span>

<span class="n">foo</span><span class="p">(</span>
    <span class="mi">1</span><span class="p">,</span> 
    <span class="mi">2</span><span class="p">,</span> 
    <span class="p">{},</span> 
    <span class="p">{},</span> 

    <span class="kr">function</span> <span class="p">()</span> 

    <span class="kr">end</span><span class="p">,</span> 

    <span class="kr">function</span> <span class="p">()</span> 
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span> 
    <span class="kr">end</span>
<span class="p">)</span>
</code></pre></div></p>
<p><span style="color:red"><strong>Bad</strong>:</span>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="kr">function</span> <span class="nf">foo</span><span class="p">(...)</span>
    <span class="kr">return</span> <span class="p">...</span>
<span class="kr">end</span>

<span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{},</span>  <span class="kr">function</span> <span class="p">()</span> <span class="kr">end</span><span class="p">,</span> <span class="kr">function</span> <span class="p">()</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span> <span class="kr">end</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Put a space before and after operators, except when clarifying precedence:</p>
<p><span style="color:green"><strong>Good</strong>:</span>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div>
  <span style="color:red"><strong>Bad</strong>:</span>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Avoid putting curly braces for tables on their own line. Doing so harms readability, since it forces the reader to move to another line in an awkward spot in the statement.</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">bar</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">baz</span> <span class="o">=</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>

<span class="n">frob</span><span class="p">({</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">foo</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">bar</span> <span class="o">=</span>

    <span class="p">{</span>
        <span class="n">baz</span> <span class="o">=</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>

<span class="n">frob</span><span class="p">(</span>
<span class="p">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
</li>
<li>
<p>Exception: In function calls with large inline tables or functions, sometimes it's
  more clear to put braces and functions on new lines:</p>
<div class="highlight"><pre><span></span><code><span class="n">foo</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
        <span class="n">bo</span> <span class="o">=</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2&quot;</span>
        <span class="p">{},</span>
        <span class="p">{}</span>
    <span class="p">},</span>
    <span class="kr">function</span><span class="p">(</span><span class="n">something</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello,&quot;</span> <span class="n">something</span><span class="p">)</span>
    <span class="kr">end</span>
<span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>Break dictionary-like tables with more than a couple keys onto multiple lines:</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">profile</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">Cash</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">Level</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">},</span>

    <span class="n">MetaData</span> <span class="o">=</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">profile</span> <span class="o">=</span> <span class="p">{</span><span class="n">Data</span> <span class="o">=</span> <span class="p">{</span><span class="n">Cash</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Level</span> <span class="o">=</span> <span class="mi">1</span><span class="p">},</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="p">{}}</span>
</code></pre></div>
</li>
</ul>
<h2 id="guarding-against-silent-errors">Guarding against silent errors</h2>
<p>Indexing into a table in Luau gives you <code>nil</code> if the key isn't present, which can cause errors that are difficult to trace!</p>
<p>Our other major use case for metatables is to prevent certain forms of this problem. For types that act like enums, we can carefully apply an __index metamethod that throws:</p>
<p><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">MyEnum</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">A</span> <span class="o">=</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="n">B</span> <span class="o">=</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span>
    <span class="n">C</span> <span class="o">=</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="nb">setmetatable</span><span class="p">(</span><span class="n">MyEnum</span><span class="p">,</span> <span class="p">{</span>
    <span class="n">__index</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="nb">error</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;%q is not a valid member of MyEnum&quot;</span><span class="p">,</span>
            <span class="nb">tostring</span><span class="p">(</span><span class="n">key</span><span class="p">)),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="kr">end</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
Since the <code>__index</code> metamethod is only called when a key is missing in the table, <code>MyEnum.A</code> and <code>MyEnum.B</code> will still give you back the expected values. But <code>MyEnum.Typo</code> will result in an error. Some nice debugging practices.</p>
<h2 id="blocks">Blocks</h2>
<ul>
<li>
<p>Don't use parentheses around the conditions in if, while, or repeat blocks. They aren't necessary in Luau and usually harm readability.</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kr">if</span> <span class="n">CONDITION</span> <span class="kr">then</span>
<span class="kr">end</span>

<span class="kr">while</span> <span class="n">CONDITION</span> <span class="kr">do</span>
<span class="kr">end</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kr">if</span> <span class="p">(</span><span class="n">CONDITION</span><span class="p">)</span> <span class="kr">then</span>
<span class="kr">end</span>

<span class="kr">while</span> <span class="p">(</span><span class="n">CONDITION</span><span class="p">)</span> <span class="kr">do</span>
<span class="kr">end</span>
</code></pre></div>
</li>
<li>
<p>Use do blocks if limiting the scope of a variable is useful:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">getId</span>
<span class="kr">do</span>
    <span class="kd">local</span> <span class="n">lastId</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">getId</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
        <span class="n">lastId</span> <span class="o">=</span> <span class="n">lastId</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="kr">return</span> <span class="n">lastId</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</code></pre></div>
</li>
</ul>
<h2 id="string-literals">String literals</h2>
<ul>
<li>
<p>Use double quotes when declaring string literals.</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Hi&quot;</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Hi&#39;</span>
</code></pre></div>
</li>
<li>
<p>Use single quotes when declaring string literals that represent characters.</p>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">characterA</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">characterA</span> <span class="o">=</span> <span class="s2">&quot;A&quot;</span>
</code></pre></div>
</li>
</ul>
<h2 id="events-and-yielding">Events and yielding</h2>
<ul>
<li>Never <strong>unnecessary</strong> poll if you can use an event instead. Busy polling is bad practice as it
constantly yields the thread back and forth, while yielding until an event is fired simply yields the thread once, and resumes it once. Remember the rule: <a href="https://en.wikipedia.org/wiki/Event-driven_programming">Event Driven Programming</a> <strong>&gt;</strong> <a href="https://en.wikipedia.org/wiki/Polling_(computer_science)#:~:text=Polling%20is%20the%20process%20where,has%20received%20the%20next%20character.">Unnecessary polling</a>.</li>
</ul>
<p><span style="color:green"><strong>Good</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">Players</span> <span class="o">=</span> <span class="n">game</span><span class="p">:</span><span class="n">GetService</span><span class="p">(</span><span class="s2">&quot;Players&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">MIN_PLAYER_COUNT</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1">-- Wait for enough players to start:</span>
<span class="kd">local</span> <span class="n">playerCount</span> <span class="o">=</span> <span class="o">#</span><span class="n">Players</span><span class="p">:</span><span class="n">GetPlayers</span><span class="p">()</span>

<span class="kr">while</span> <span class="n">playerCount</span> <span class="o">&lt;</span> <span class="n">MIN_PLAYER_COUNT</span> <span class="kr">do</span>
    <span class="n">Players</span><span class="p">.</span><span class="n">PlayerAdded</span><span class="p">:</span><span class="n">Wait</span><span class="p">()</span>
    <span class="n">playerCount</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1">-- Don&#39;t use GetPlayers() unnecessary</span>
<span class="kr">end</span>
</code></pre></div>
<p><span style="color:red"><strong>Bad</strong>:</span></p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">Players</span> <span class="o">=</span> <span class="n">game</span><span class="p">:</span><span class="n">GetService</span><span class="p">(</span><span class="s2">&quot;Players&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">MIN_PLAYER_COUNT</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1">-- Wait for enough players to start:</span>
<span class="kd">local</span> <span class="n">playerCount</span> <span class="o">=</span> <span class="o">#</span><span class="n">Players</span><span class="p">:</span><span class="n">GetPlayers</span><span class="p">()</span>

<span class="kr">while</span> <span class="n">playerCount</span> <span class="o">&lt;</span> <span class="n">MIN_PLAYER_COUNT</span> <span class="kr">do</span>
    <span class="n">playerCount</span> <span class="o">=</span> <span class="o">#</span><span class="n">Players</span><span class="p">:</span><span class="n">GetPlayers</span><span class="p">()</span>
    <span class="n">wait</span><span class="p">()</span>
<span class="kr">end</span>
</code></pre></div>
<h2 id="garbage-collection">Garbage collection</h2>
<ul>
<li>
<p>Always make sure strong references do get cleared in your code. Never have a reference
that is never cleared. An reference type object (table, userdata, string, function, thread) are
garbage collected when they have 0 references. </p>
</li>
<li>
<p>Functions that use an <a href="https://en.wikipedia.org/wiki/External_variable#:~:text=In%20the%20C%20programming%20language,defined%20inside%20a%20function%20block.">external local variable</a> hold reference to them (assuming they're reference type objects). The function will only no longer hold a reference to them once the function it self is garbage collected.</p>
</li>
<li>
<p>Always disconnect events when they're no longer in need. Events hold an internal reference
to the connected callback, and that callback will not be garbage collected unless the event it self is disconnected (event's disconnected no longer reference the connected callback). You can
use a <a href="https://devforum.roblox.com/t/how-to-use-a-maid-class-on-roblox-to-manage-state/340061">Maid</a> to easily track events and clean them up.</p>
</li>
</ul>
<h2 id="comments">Comments</h2>
<ul>
<li>You don't need to necessarily use comments if the code is self explanatory. Although comments
should <strong>both</strong> explain why and what the code is doing in simple terms.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.ddd52ceb.min.js"></script>
      
    
  </body>
</html>